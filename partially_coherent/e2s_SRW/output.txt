/dls/physics/mfc33124/SRW_lab_OPT_DESIGN/MultiElectrons/e2s_SRW
/dls/physics/mfc33124/SRW_lab_OPT_DESIGN/MultiElectrons/e2s_SRW
/dls/physics/mfc33124/SRW_lab_OPT_DESIGN/MultiElectrons/e2s_SRW
/dls/physics/mfc33124/SRW_lab_OPT_DESIGN/MultiElectrons/e2s_SRW
/dls/physics/mfc33124/SRW_lab_OPT_DESIGN/MultiElectrons/e2s_SRW
output directory exists ...
all okay
+ ----------------------------------------------------------- 
+ ----------------------------------------------------------- 
| UNDULATOR PARAMETERS
| By (T)           = 0.836
| lambda_u (m)     = 0.025
| Np_u             = 108.0
| K_max            = 1.951642
+ ----------------------------------------------------------- 
| BEAMLINE PARAMETERS
| Z_slit (m)       = 11.55
| DX (um)          = 800.
| DY (um)          = 800.
| Ephot_ini (eV)   = 1000.
| Ephot_end (eV)   = 25000.
+ ----------------------------------------------------------- 
| BEAM PARAMETERS @ centre of undulator
| Ee       (GeV)   = 3.5
| sigma_x  (um)    = 37.3005135143
| sigma_xp (urad)  = 4.33805490841
| sigma_y  (um)    = 6.51393453543
| sigma_yp (urad)  = 1.34591761339
| dp/p             = 0.000775761863145
+ ----------------------------------------------------------- 
| MOMENTS @ centre of undulator
| sigXX     = 1.39132830843e-09
| sigXXp    = 3.77883090661e-11
| sigXpXp   = 1.88187203883e-11
| sigYY     = 4.24313431318e-11
| sigYYp    = 3.63751196994e-12
| sigYpYp   = 1.81149422202e-12
+ ----------------------------------------------------------- 
| MACHINE PARAMETERS
| Ib       (mA)   = 300.0
+ ----------------------------------------------------------- 
| COMPUTATION PARAMETERS
| Nelectr                   = 1
| Ncores                    = 1
| mesh X start       (um)   = -600.0
| mesh X fin         (um)   = 600.0
| mesh Y start       (um)   = -400.0
| mesh Y fin         (um)   = 400.0
| mesh E start       (eV)   = 11209.0
| mesh E fin         (eV)   = 11209.0
| mesh nx                   = 200
| mesh ny                   = 200
| outfil                    = SRW_I13d
+ ----------------------------------------------------------- 



... entering in the function Update_Accelerator_Optics...
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
282.298
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$


 FBT : present coupling is set at 0.0507 - ATTENTION: if you change coupling,nyou must re-create a new SRW.input from the original E2S.py, i.e.  python E2S.py M-H6BA-14-1-1__I13d__SRW__source_shift.input 


The baseline twiss parameters as read from SW.input are:
beta_x   : 8.842959
alpha_x  : -0.2401737
beta_y   : 5.319206
alpha_y  : -0.4559996
eta_x    : 3.162498e-09
eta_xp   : 3.653917e-16
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%                                                            %%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%  NOW STARTING THE ACCELERATOR OPTICS NEW PARAMETRIZATION   %%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%                                                            %%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                                               
                                               
The targets optics variables are:
-----------------------------------------------
 beta-x       = 8.842959
 alpha-x      = -0.2401737
 beta-y       = 5.319206
 alpha-y      = -0.4559996
 eta-x        = 3.162498e-09
 eta-x prime  = 3.653917e-16
                                               
                                               
 with the following baseline values :          
 ex0          = 1.57337414821e-10
 Sdelta0      = 0.0006649372
 Cou          = 0.0507
 Sz0          = 0.001834378
 Circ          = 560.5704


Recalculating the new beam parameters from the new accelerator optics...
                                   
 ***UPDATED*** Twiss parameters at that location:
 ------------------------------------------------
 betax     : 8.842959  (m)
 alphax    : -0.2401737
 betay     : 5.319206  (m)
 alphay    : -0.4559996
 etax      : 3.162498e-09  (m)
 etaxp     : 3.653917e-16
 ***UPDATED***  Beam/moments parameters :
-----------------------------------------
 sx        : 3.73005135143e-05  (m)
 sy        : 6.51393453542e-06  (m)
 sxp       : 4.3380549084e-06  (m)
 syp       : 1.34591761338e-06  (m)
 sigXX     : 1.39132830843e-09
 sigXXp    : 3.7788309066e-11
 sigXpXp   : 1.88187203883e-11
 sigYY     : 4.24313431317e-11
 sigYYp    : 3.63751196993e-12
 sigYpYp   : 1.81149422201e-12
                  
 Global parameters at 3.5 GeV:
 ----------------------------
 emix       : 1.57337414821e-10  (m)
 dE/E       : 0.0006649372
 Circ       : 560.5704  (m)
                  
 sigma_z(0) : 0.001834378
                  
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%                                                            %%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%      NEW ACCELERATOR OPTICS PARAMETRIZATION COMPLETED      %%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%                                                            %%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


...leaving the function left Update_Accelerator_Optics...
VERIFICATION POST-FUNCTION
sig_x    = 3.7300513514268134e-05
sig_y    = 6.513934535415278e-06
sig_xp   = 4.3380549083997576e-06
sig_yp   = 1.3459176133830863e-06
sigXX   = 1.39132830843e-09
sigXXp  = 3.7788309066e-11
sigXpXp = 1.88187203883e-11
sigYY   = 4.24313431317e-11
sigYYp  = 3.63751196993e-12
sigYpYp = 1.81149422201e-12
Beamline is I13dMA...
SlitDX and slitDY are:
800
800
+ --------------------------------------------------------------------- + 
| this is Beam Line I13d - coherence                                      
| rev. 16/8/2018,  M. Apollonio DLS                                       
| This version gives the possibility to keep/remove the monochromators    
+ ----------------------------------------------------------------------+ 
theoretical CRL focal length = 21.5693648652
Optical Element Setup: CRL Focal Length: 21.5693648652 m
 MONO - Si111 crystal parameters set for Ephot = 15256.0


>>>>>>>>> inside e2s_BLOPTICS/interpol.py <<<<<<<<<< /dls/physics/mfc33124/SRW_lab_OPT_DESIGN/MultiElectrons/e2s_SRW
 Ephot =  15.256
/dls/physics/xph53246/source_to_beamline/E2S/e2s_BLOPTICS/Si111.csv
 crpar [-4.162300000000001e-06, 2.75715e-08, 2.1938e-06, 1.9234e-08, 2.1938e-06, 1.9234e-08]
>>>>>>>>> quitting e2s_BLOPTICS/interpol.py <<<<<<<<<<<<<<<<


-||-  ---  -()-  ---  -/-  ---  -##  ##-  ---  -##  ##-  ---  -)-  ---  -(-  ---  --|S  
11.55  21.55  21.55  26.25  26.25  208.65  208.65  208.65  209.65  209.65  209.65  220.3  220.3  221.85  221.85  227.95
Values before modification:
1.55
6.1
30.9
9.1
33.1
6.9
10.65
loelem is:
[<srwlib.SRWLOptD object at 0x7fcd90f90410>, <srwlib.SRWLOptD object at 0x7fcd90f90450>, <srwlib.SRWLOptMirEl object at 0x7fcd90f90210>, <srwlib.SRWLOptMirEl object at 0x7fcd90f90250>, <srwlib.SRWLOptD object at 0x7fcd90f903d0>]
loval is
[3.156957671798139, 5.036054734746594, 33.127577418785414, 11.30395318512786, 29.782670452948885, 5.876149837102485, 12.077485253936604]
starting the enumeration on the list of optical elements (l.o.elem), note that this number is smaller or equal to the list of values to be modified (l.o.val.) so must be very careful here !!!!
end of the updating process. Quitting function...
New Beamline created
Verification :values after modification:
3.1569576718
5.03605473475
33.1275774188
11.3039531851
29.7826704529
5.8761498371
12.0774852539
Simulating Partially-Coherent Wavefront Propagation by summing-up contributions of SR from individual electrons (takes time)... 
__import__ passed
DEBUG: <module 'mpi4py.MPI' from '/dls_sw/apps/python/anaconda/1.7.0/64/lib/python2.7/site-packages/mpi4py/MPI.so'>
DEBUG: rank, nProc: 0 1
DEBUG MESSAGE: rank: 0 : nPartPerProc= 1 nSentPerProc= 0 _n_part_avg_proc= 1
i= 0 Electron Coord.: x= -6.89328377814e-05 x'= 2.14341127602e-06 y= 4.74791975616e-07 y'= 2.49991308742e-06 E= 3.49957598221
